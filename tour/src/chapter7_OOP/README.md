# Chapter 7 - Object Oriented Programming

関数を使ってアイデアを表現することは、動作やデータを表現する実証済みの方法です（C言語は何十年も前からそうしてきました！）。歴史的に見ても、コンピュータサイエンスは、データを表現するための他の有用な集約や抽象化を発見してきました。そのような方法の一つとして、オブジェクト指向プログラミング(OOP)に精通しているかもしれません。この章では、関数を超えたRustプログラミング言語を探求します。

## What is OOP?

オブジェクト指向プログラミングとは、大まかに言って、いくつかの象徴的な機能を持つプログラミング言語のことを指します。

* カプセル化 - データと関数をオブジェクトと呼ばれる単一の型の概念的な単位に結合します。
* 抽象化 - データや関数のメンバーを隠して、オブジェクトの実装の詳細を難読化すること。
* Polymorphism (ポリモーフィズム) - 異なる機能の観点からオブジェクトと対話する能力。
* Inheritance (継承) - 他のオブジェクトからデータや動作を継承する能力。

## Rst Is Not OOP

Rustには、データや振る舞いの継承に意味がありません。

* 構造体は親構造体からフィールドを継承できません。
* 構造体は親構造体から関数を継承することができません。

とはいえ、Rustは多くのプログラミング言語の機能を実装しているので、この欠落は気にならないかもしれません。

## Trait Objects

オブジェクトのインスタンスを　`&dyn MyTrait` 型のパラメータに渡すときは、 trait オブジェクトと呼ばれるものを渡します。

trait オブジェクトは、インスタンスの正しいメソッドを間接的に呼び出すことを可能にします。traitオブジェクトは、**インスタンスのポインタと、インスタンスのメソッドへの関数ポインタのリストを保持する構造体です。**

この関数のリストは、 C++ では vtableとして知られています。
* https://ja.wikipedia.org/wiki/%E4%BB%AE%E6%83%B3%E9%96%A2%E6%95%B0%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB


## Handling Unsized Data

Traits は、別の構造体に保存する場合に興味深い問題をもたらします。 Traits は、もとの構造体を難読化するため、もとのサイズも難読化します。 構造体に格納されるサイズ不明の値は、 Rust では２つの方法で処理されます。

* generics
    * パラメータ化された型を使用して、基地の方と基地のサイズの構造体/関数を効果的に作成します。
* indirection - 