# Chapter 9 プロジェクトの組織と体制

これまでのところ、私達のコード例はすべて一つのファイル担っています。私達のコードをより良く整理し、他の人と共有するにはどうしたらよいかを議論してみましょう。

## Modules
すべてのRustプログラムやライブラリはクレートです。

すべてのクレートはモジュールの階層構造で構成されています。

すべてのクレートには、ルートモジュールがあります。

モジュールは、グローバル変数、関数、構造体、形質、他のモジュールを保持することができます。

Rustでは、ファイルとモジュールツリーの改装は、一対一ではありません。モジュールツリーは、コード内で明示的に手作業で構築しなければなりません。

## Writing a Program

プログラムは marin.rsというファイルにルートモジュールを持っています。

## Writing a Library

ライブラリは lib.rs というファイルにルートモジュールを持っています

## Internal Module Referencing 

Rustには、必要なモジュールを素早く手に入れるために、使用パスで使用できるいくつかのキーワードがあります。

crate - クレートのルートモジュール
super - 現在のモジュールの親モジュール
self - 現在のモジュール．

## Exporting 

デフォルトでは、モジュールのメンバはモジュールの外部からはアクセスできません(小モジュールからもアクセスできません)。pu キーワードを使用して、モジュールのメンバにアクセスできるようにします。

デフォルトでは、クレートのメンバはクレートの外部からはアクセスできません。クレートのルートモジュール(lib.rsまたはmain.rs)でpubとしてマークすることで、クレートのメンバにアクセスできるようにします。

## Prelude

VecやBoxをインポートする必要がないのに、どうしてあちこちでアクセスできるのか不思議に思うかもしれませんが、それは標準ライブラリのモジュール `prelude` のおかげです。

Rust 標準ライブラリでは、 `std::prelude::*` でエクスポートされたものは、 Rustのすべての部分で自動的に利用できることを知っています。これは、VecやBoxだけでなく、他の部分(Option, Copyなど)でも同様です。

## Your Own Prelude
標準ライブラリの prelude のため、ユーザがあなたのライブラリを使うための最も一般的なデータ構造をすべてインポートするための出発点として、あなたのライブラリに独自のPreludeモジュールがあるのが一般的です(例: `use my_ilbrary::prelude::*`) .
これは、あなたのクレートを使うプログラムやライブラリで自動的に使われるわけではありませんが、どこから始めれば良いのかがわかるように、従うべき良い慣習です。

フェリスは「良いラスティシャンであれ、そして良いPreludeで仲間の蟹を助けよう」

